---
import LeadFormLayout from '@/layouts/lead-form-layout.astro';
import { LeadForm, Step1, Step2, Step3, Step4, Step5, Step6 } from '@/components/lead-form';
---

<LeadFormLayout
	title="Kostenloses Angebot anfordern"
	description="Fordern Sie jetzt Ihr kostenloses, unverbindliches Angebot für unsere diskrete Messie-Hilfe an. Professionell, zuverlässig und ohne Bewertung."
	currentStep={1}
	totalSteps={6}
	showFooter={false}
>
	<section class="bg-surface-primary py-8 md:py-12 min-h-[calc(100vh-200px)]">
		<div class="container mx-auto px-4">
			<div class="max-w-5xl mx-auto">
				<div class="text-center mb-6">
					<h1 class="step-page-title text-2xl md:text-3xl font-bold mb-2">
						Wobei können wir Ihnen helfen?
					</h1>
					<p class="step-page-subtitle text-base text-muted">
						Mehrfachauswahl möglich – wir stimmen alles transparent mit Ihnen ab.
					</p>
				</div>

				<div class="bg-[#FBF9F6] rounded-2xl shadow-xl p-6 md:p-8">
					<LeadForm formId="lead-form">
						<Step1 />
						<Step2 />
						<Step3 />
						<Step4 />
						<Step5 />
						<Step6 />
					</LeadForm>
				</div>
			</div>
		</div>
	</section>
</LeadFormLayout>

<!-- Track funnel_start event on page view -->
<script is:inline>
	(function() {
		if (typeof window === 'undefined' || !window.dataLayer) {
			return;
		}

		window.dataLayer.push({
			'event': 'funnel_start',
			'funnel_type': 'lead_form'
		});
	})();
</script>
