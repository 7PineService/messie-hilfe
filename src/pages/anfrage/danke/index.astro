---
import { Image } from 'astro:assets';
import BaseLayout from '@/layouts/base-layout.astro';
import { CONTACT_PHONE_DISPLAY, CONTACT_EMAIL } from '@/config/site';

// Import images
import dankeImg1 from '@/assets/images/lead-form/lead-19-danke-1.png';
import dankeImg2 from '@/assets/images/lead-form/lead-20-danke-2.png';
import dankeImg3 from '@/assets/images/lead-form/lead-21-danke-3.png';
---

<BaseLayout
	title="Vielen Dank für Ihre Anfrage"
	description="Ihre Anfrage ist bei uns eingegangen. Wir melden uns in der Regel innerhalb von 24 Stunden persönlich bei Ihnen."
>
	<section class="bg-surface-muted py-16 md:py-24">
		<div class="container mx-auto px-4">
			<div class="max-w-4xl mx-auto">
				<!-- Success Icon & Headline -->
				<div class="text-center mb-12">
					<div class="mb-8">
						<div class="w-24 h-24 mx-auto rounded-full bg-surface-warm-peach border-2 border-cta-primary flex items-center justify-center">
							<svg class="w-12 h-12 text-cta-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" />
							</svg>
						</div>
					</div>

					<h1 class="text-3xl md:text-5xl mb-6 leading-tight">
						<span class="font-bold">Vielen Dank. Ihre Anfrage</span> ist bei uns angekommen.
					</h1>
					<p class="text-xl md:text-2xl mb-4">
						Wir melden uns in der Regel <strong class="text-primary">innerhalb von 24 Stunden</strong> persönlich bei Ihnen.
					</p>
					<p class="text-base text-muted">
						Diskret. Wertfrei. In Ihrem Tempo.
					</p>
				</div>

				<!-- Main Content Card -->
				<div class="bg-white rounded-2xl shadow-lg p-8 md:p-10 space-y-10">
					<!-- Next Steps -->
					<div>
						<h2 class="text-xl font-semibold mb-8 text-center">
							So geht es jetzt weiter:
						</h2>

						<div class="grid md:grid-cols-3 gap-8 md:gap-0">
							<!-- Step 1 -->
							<div class="text-center md:pr-6">
								<div class="mx-auto">
									<Image src={dankeImg1} alt="Prüfung" class="w-20 h-20 md:w-24 md:h-24 mx-auto object-contain" loading="eager" />
								</div>
								<p class="text-base font-semibold mb-2">Wir prüfen Ihre Angaben</p>
								<p class="text-sm text-muted leading-relaxed">diskret & ohne Bewertung</p>
							</div>

							<!-- Step 2 -->
							<div class="text-center md:border-l md:border-r border-gray-100 md:px-6">
								<div class="mx-auto">
									<Image src={dankeImg2} alt="Kontaktaufnahme" class="w-20 h-20 md:w-24 md:h-24 mx-auto object-contain" loading="eager" />
								</div>
								<p class="text-base font-semibold mb-2">Wir melden uns persönlich bei Ihnen</p>
								<p class="text-sm text-muted leading-relaxed">telefonisch oder per E-Mail – so wie Sie es angegeben haben</p>
							</div>

							<!-- Step 3 -->
							<div class="text-center md:pl-6">
								<div class="mx-auto">
									<Image src={dankeImg3} alt="Beratung" class="w-20 h-20 md:w-24 md:h-24 mx-auto object-contain" loading="eager" />
								</div>
								<p class="text-base font-semibold mb-2">Wir besprechen alles in Ruhe</p>
								<p class="text-sm text-muted leading-relaxed">Ablauf, Kosten & mögliche Optionen<br /><span class="italic">(nichts ist verbindlich)</span></p>
							</div>
						</div>
					</div>

					<!-- Reassurance Text -->
					<div class="text-center border-t border-gray-100 pt-8">
						<p class="text-base font-semibold mb-2">
							Sie müssen nichts vorbereiten, nichts erklären und nichts rechtfertigen.
						</p>
						<p class="text-sm text-muted">
							Wir sind für Sie da – professionell, diskret und wertschätzend.
						</p>
					</div>

					<!-- Contact Info -->
					<div class="text-center border-t border-gray-100 pt-8">
						<p class="text-sm text-muted mb-4">Falls Sie uns doch direkt erreichen möchten:</p>
						<div class="flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4">
							<a href={`tel:${CONTACT_PHONE_DISPLAY.replace(/\s/g, '')}`} class="inline-flex items-center gap-2 text-primary font-medium hover:text-cta-primary transition-colors text-sm">
								<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
								</svg>
								{CONTACT_PHONE_DISPLAY}
							</a>
							<span class="hidden sm:inline h-4 w-px bg-gray-200"></span>
							<a href={`mailto:${CONTACT_EMAIL}`} class="inline-flex items-center gap-2 text-primary font-medium hover:text-cta-primary transition-colors text-sm">
								<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
								</svg>
								{CONTACT_EMAIL}
							</a>
						</div>
					</div>
				</div>

				<!-- Back to Home -->
				<div class="mt-10 text-center">
					<a href="/" class="inline-flex items-center gap-2 text-muted hover:text-primary transition-colors font-medium">
						<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
						</svg>
						Zurück zur Startseite
					</a>
				</div>
			</div>
		</div>
	</section>
</BaseLayout>

<!-- Track form completion -->
<script is:inline>
	(function() {
		if (typeof window === 'undefined' || !window.dataLayer) {
			return;
		}

		window.dataLayer.push({
			'event': 'funnel_complete',
			'funnel_type': 'lead_form'
		});
	})();
</script>
