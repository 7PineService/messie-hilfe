---
import { Image } from 'astro:assets'
import { Chevron } from '@/components/icons'
import type { ImageMetadata } from 'astro'

interface Props {
  title: string
  description: string
  image: ImageMetadata
  link: string
}
const { title, description, link, image } = Astro.props
---

<>
  <div
    class="service-card hidden md:flex flex-1 flex-col items-center text-center gap-2 transition rounded-lg px-4 lg:px-8 pb-4"
  >
    <div class="h-[50%] w-full">
      <Image src={image} alt={title} loading="eager" />
    </div>
    <div class="flex-1 flex flex-col items-center text-center gap-2 w-full">
      <h4
        class="text-base md:text-lg lg:text-xl xl:text-2xl 2xl:text-3xl min-[1920px]:text-4xl font-semibold leading-tight mb-2"
      >
        {title}
      </h4>
      <div
        class="text-sm md:text-base lg:text-base xl:text-lg 2xl:text-xl min-[1920px]:text-2xl opacity-80 leading-relaxed "
      >
        {description}
      </div>
    </div>
    <div class="text-center mt-auto">
      <a
        href={link}
        data-cta="hero-offer"
        class="cta-tertiary inline-flex gap-2 text-base rounded-lg px-4 py-2"
      >
        <span>Mehr erfahren</span>
        <Chevron class="-rotate-90" size="md" aria-hidden={true} />
      </a>
    </div>
  </div>

  <div
    class="service-card-mobile md:hidden grid grid-cols-5 transition rounded-lg p-0"
  >
    <div class="card-img col-span-2 flex items-center justify-center transition rounded-l-lg p-4">
      <Image
        class="scale-140"
        src={image}
        alt={title}
        loading="eager"
      />
    </div>
    <div class="col-span-3 flex flex-col items-start justify-between gap-2 p-4">
      <h4
        class="text-base font-semibold leading-tight mb-2 "
      >
        {title}
      </h4>
      <div
        class="text-xs opacity-80 leading-relaxed "
      >
        {description}
      </div>
      <div class="text-center">
        <a
          href={link}
          data-cta="hero-offer"
          class="cta-tertiary inline-flex gap-2 text-sm rounded-lg px-4 py-2"
        >
          <span>Mehr erfahren</span>
          <Chevron class="-rotate-90" size="sm" aria-hidden={true} />
        </a>
      </div>
    </div>
  </div>
</>

<style>
  .service-card,
  .service-card-mobile {
    background: var(--color-surface-light-peach);
    box-shadow: var(--color-shadow-subtle) 0px 2px 8px 0px;
  }
  .service-card-mobile > .card-img {
    background: var(--color-surface-gradient-light);
  }

  .service-card:hover,
  .service-card-mobile:hover {
    background: var(--color-surface-warm-peach);
    box-shadow:
      var(--color-shadow-warm) 1px 0px 2px 2px,
      var(--color-shadow-warm) -7px 0px 2px -4px,
      var(--color-shadow-warm) 1px 2px 2px 2px;
  }

  .service-card:hover .cta-tertiary,
  .service-card-mobile:hover .cta-tertiary {
    background-color: var(--color-primary);
    color: white;
  }

  .service-card-mobile:hover > .card-img {
    background: var(--color-surface-gradient-warm);
  }
</style>
