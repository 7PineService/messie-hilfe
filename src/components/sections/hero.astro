---
import ContactForm from '@/components/contact-form.astro';
import { Checkmark, Play } from '@/components/icons';

interface Props {
	title?: string;
	description?: string[];
	usps?: string[];
}

const {
	title = 'Messie-Hilfe & Messie-Wohnung entrümpeln – diskret & anonym',
	description = [
		'Eine <strong>Messie-Wohnung zu entrümpeln</strong> ist für viele Betroffene und Angehörige eine schwere Aufgabe. Oft fehlt der Überblick, wo man anfangen soll – oder die Situation ist emotional zu belastend.',
		'<strong>Wir helfen bei der Entrümpelung und Reinigung von Messie-Wohnungen</strong> – diskret, anonym und mit klaren Abläufen.'
	],
	usps = [
		'Diskret & anonym vor Ort',
		'Kostenlose Vor-Ort-Besichtigung',
		'Festpreis inkl. aller Kosten',
		'Kurzfristig verfügbar'
	]
} = Astro.props;
---

<section id="hero-section" class="hero-with-bg flex items-center py-8 md:py-10 lg:py-12">
	<div class="container mx-auto px-4 w-full">
		<div class="grid lg:grid-cols-8 gap-6 md:gap-8 lg:gap-8 xl:gap-10 2xl:gap-12 min-[1920px]:gap-16 items-start lg:items-center">
			<div class="lg:col-span-5 space-y-5 md:space-y-6 lg:space-y-6 xl:space-y-7 2xl:space-y-8 min-[1920px]:space-y-10">
				<h1 class="text-xl md:text-3xl lg:text-3xl xl:text-4xl 2xl:text-5xl min-[1920px]:text-6xl font-bold leading-tight">
					{title}
				</h1>

				<div class="text-sm md:text-base lg:text-base xl:text-lg 2xl:text-xl min-[1920px]:text-2xl opacity-80 leading-relaxed max-w-2xl min-[1920px]:max-w-3xl space-y-3 md:space-y-4 min-[1920px]:space-y-5">
					{description.map((paragraph) => (
						<p set:html={paragraph} />
					))}
				</div>

				<div>
					<div class="grid grid-cols-2 gap-3 md:gap-4 lg:gap-3.5 xl:gap-4 min-[1920px]:gap-5">
						{usps.map((usp) => (
							<div class="flex items-center space-x-1.5 md:space-x-2 lg:space-x-2 xl:space-x-3 min-[1920px]:space-x-4">
								<Checkmark class="w-4 h-4 md:w-5 md:h-5 lg:w-5 lg:h-5 xl:w-6 xl:h-6 min-[1920px]:w-7 min-[1920px]:h-7 shrink-0" aria-hidden={true} />
								<span class="font-medium text-xs md:text-sm lg:text-sm xl:text-base 2xl:text-lg min-[1920px]:text-xl">{usp}</span>
							</div>
						))}
					</div>
				</div>

				<div class="pt-1 md:pt-1.5 hidden lg:block">
					<a href="/anfrage/" data-cta="hero-offer" class="cta-secondary inline-flex items-center gap-2 text-base border border-cta-border rounded-xl px-4 py-2">
						<span>Kostenloses Angebot anfordern</span>
						<Play size="lg" aria-hidden={true} />
					</a>
				</div>

				<div class="pt-1 lg:hidden flex flex-col gap-2">
					<button
						type="button"
						onclick="if (window.openAnonymForm) window.openAnonymForm()"
						data-cta="hero-anonym"
						class="cta-primary w-full inline-flex items-center justify-center gap-2 text-sm font-semibold px-4 py-2 border-2 border-transparent rounded-lg text-white"
					>
						<span>Anonym anfragen</span>
						<Play size="md" variant="inverse" class="text-primary" aria-hidden={true} />
					</button>

					<div class="text-center  opacity-60 font-medium py-0.5 text-xs">oder</div>

					<a href="/anfrage/" data-cta="hero-offer-mobile" class="cta-secondary w-full inline-flex items-center justify-center gap-2 text-sm border border-cta-border rounded-xl px-4 py-2">
						<span>Kostenloses Angebot anfordern</span>
						<Play size="md" aria-hidden={true} />
					</a>
				</div>

				<div class="pt-2 md:pt-2.5 lg:pt-2 xl:pt-3 min-[1920px]:pt-4 max-w-xl min-[1920px]:max-w-3xl">
					<div class="flex items-center justify-between px-3 py-2 md:px-4 md:py-2.5 lg:px-4 lg:py-2.5 xl:px-5 xl:py-3 2xl:px-6 2xl:py-4 min-[1920px]:px-8 min-[1920px]:py-5 rounded-full bg-surface-tertiary">
						<div class="flex items-center space-x-1.5 md:space-x-2 lg:space-x-2 xl:space-x-3 min-[1920px]:space-x-4">
							<span class="text-base md:text-lg lg:text-lg xl:text-xl min-[1920px]:text-2xl shrink-0" style="color: #bca99f;">★</span>
							<div class="text-xs md:text-sm lg:text-sm xl:text-base 2xl:text-lg min-[1920px]:text-xl  whitespace-nowrap">
								<strong>5.000+ zufriedene</strong> <span class="opacity-70">Kunden</span>
							</div>
						</div>

						<span class="text-primary">•</span>

						<div class="flex items-center space-x-1.5 md:space-x-2 lg:space-x-2 xl:space-x-3 min-[1920px]:space-x-4">
							<svg class="w-4 h-4 md:w-5 md:h-5 lg:w-5 lg:h-5 xl:w-6 xl:h-6 min-[1920px]:w-7 min-[1920px]:h-7  shrink-0" viewBox="190 322 400 400">
								<path d="m 223.45447,322.60119 c -4.86462,0 -8.78192,7.97938 -8.78192,13.02083 0,5.04146 3.9173,9.10118 8.78192,9.10118 l 9.15699,0 c 36.20217,73.56423 77.9319,129.90958 129.9735,164.26739 l 0,24.80469 c -53.27103,26.16892 -101.14053,89.32332 -131.46271,166.6839 -2.6149,0.24393 -3.61483,0.25467 -8.46413,0.25467 -4.79677,0 -8.65812,4.00173 -8.65812,8.97289 0,4.97116 3.86135,12.89445 8.65812,12.89445 l 332.6819,0 c 4.79679,0 8.65998,-7.92328 8.65998,-12.89445 0,-4.97116 -3.86319,-8.97289 -8.65998,-8.97289 l -4.94433,0 C 520.14945,623.13306 473.49407,560.20313 420.42034,533.93314 l 0,-24.98085 C 471.8475,474.74246 513.05887,417.68104 549.02842,344.7232 l 6.18966,0 c 4.86461,0 8.78192,-4.05972 8.78192,-9.10118 0,-5.04145 -3.91731,-13.02083 -8.78192,-13.02083 z m 35.08333,22.12201 265.15184,0 c -35.63774,71.95721 -71.90019,122.17872 -122.58286,155.07429 -1.73881,1.12717 -2.82175,3.3014 -2.81953,5.66407 l 0,32.30124 c 0.002,2.64911 1.36302,5.02739 3.42925,5.9915 50.909,23.7641 93.35503,80.95263 123.23325,156.97955 l -267.64249,0 c 29.91896,-76.09789 72.69506,-133.35562 123.96122,-157.10593 2.07487,-0.96039 3.4409,-3.34561 3.43848,-6.00298 l 0,-32.15189 c -0.002,-2.36122 -1.08845,-4.52989 -2.82876,-5.65066 C 330.86758,466.96384 294.34278,416.73831 258.5378,344.7232 Z" fill="currentColor"/>
								<path d="m 279.60683,695.79723 222.25688,0 -88.90276,-120.05368 c -13.89096,-15.008 -28.47065,-18.85595 -44.45138,0 z" fill="#bca99f"/>
								<path d="m 387.26998,486.79611 c 2.45864,2.75356 4.8377,2.3948 7.16471,0 l 56.28005,-52.02338 -119.72481,0 z" fill="#bca99f"/>
							</svg>
							<div class="text-xs md:text-sm lg:text-sm xl:text-base 2xl:text-lg min-[1920px]:text-xl  whitespace-nowrap">
								<span class="font-bold">20+ Jahre</span> <span class="opacity-70">Erfahrung</span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="hidden lg:block lg:col-span-3 lg:col-start-6">
				<ContactForm formType="contact" formLocation="hero" />
			</div>
		</div>
	</div>
</section>

<style>
	.hero-with-bg {
		background:
			url('/images/background.webp') right center / cover no-repeat,
			var(--color-surface-primary);
		background-position: right center;
		position: relative;
	}

	@media (max-width: 1023px) {
		.hero-with-bg {
			background: var(--color-surface-primary);
		}
	}

	@media (min-width: 1024px) and (orientation: landscape) {
		#hero-section {
			min-height: calc(100vh - 7rem);
		}
	}

	@media (max-width: 1023px), (orientation: portrait) {
		#hero-section {
			min-height: auto;
		}
	}

	@media (max-height: 600px) and (orientation: landscape) {
		#hero-section {
			min-height: auto;
		}
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const setHeroHeight = () => {
			const header = document.getElementById('main-header');
			const hero = document.getElementById('hero-section');

			if (!header || !hero) return;

			const isLandscape = window.matchMedia('(orientation: landscape)').matches;
			const isDesktop = window.innerWidth >= 1024;
			const isTallEnough = window.innerHeight >= 600;

			if (isDesktop && isLandscape && isTallEnough) {
				const headerHeight = header.offsetHeight;
				hero.style.minHeight = `calc(100vh - ${headerHeight}px)`;
			} else {
				hero.style.minHeight = 'auto';
			}
		};

		setHeroHeight();

		window.addEventListener('resize', setHeroHeight);
		window.addEventListener('orientationchange', () => {
			setTimeout(setHeroHeight, 100);
		});
	});
</script>
