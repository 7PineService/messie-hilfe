---
import { cn } from '@/utils/cn'
import { Image } from 'astro:assets'
import { Checkmark } from '@/components/icons'
import type { ImageMetadata } from 'astro'

interface Props {
  title: string
  classes?: string
  description: string[]
  image: ImageMetadata
}
const { title, classes, description, image } = Astro.props
---

<>
  <div
    class={cn(
      classes,
      'why-card relative flex flex-col items-center gap-2 transition rounded-xl shadow-lg'
    )}
  >
    <div class="w-full">
      <Image
        src={image}
        alt={title}
        loading="eager"
        decoding="async"
        class={'w-auto mx-auto object-contain'}
      />
    </div>
    <h4
      class="md:-translate-y-1/2 text-sm sm:text-lg md:text-xl lg:text-lg xl:text-xl 2xl:text-2xl min-[1920px]:text-3xl font-semibold leading-tight text-center px-4 md:px-8 lg:px-4 xl:px-8 "
    >
      {title}
    </h4>
    <div
      class="md:inset-shadow-sm md:inset-shadow-orange-100 text-xs sm:text-sm md:text-base xl:text-base 2xl:text-lg min-[1920px]:text-xl opacity-80 leading-relaxed md:bg-[#f5dcae24] md:drop-shadow-none p-2 sm:p-4 md:px-8 lg:px-4 xl:px-8 pb-4"
    >
      {
        description.map((d) => (
          <div class="w-fit relative mx-auto inline-flex gap-1">
            <Checkmark
              size="sm"
              class="hidden sm:block shrink-0 text-(--color-bronze-accent) opacity-70 translate-y-1"
              aria-hidden={true}
            />
            <Checkmark
              size="xs"
              class="sm:hidden shrink-0 text-(--color-bronze-accent) opacity-70"
              aria-hidden={true}
            />
            {d}
          </div>
        ))
      }
    </div>
  </div>
</>

<style>
  .why-card {
    background: var(--color-warm-25);
  }

  .why-card:hover {
    background: var(--color-warm-150);
    box-shadow:
      var(--shadow-peach) 1px 0px 2px 2px,
      var(--shadow-peach) -7px 0px 2px -4px,
      var(--shadow-peach) 1px 2px 2px 2px;
  }

  .why-card:hover .cta-tertiary {
    background-color: var(--color-foreground);
    color: white;
  }
</style>
