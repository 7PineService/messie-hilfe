---
import { CONTACT_EMAIL, CONTACT_PHONE, CONTACT_PHONE_DISPLAY, CONTACT_WHATSAPP, SITE_NAME } from '@/config/site';
import { Phone, WhatsApp, Chevron } from '@/components/icons';
import { EmailLink } from '@/components/common';
---

<footer>
	<div class="py-8 md:py-16" style="background: var(--gradient-footer);">
		<div class="container mx-auto px-4">
			<div class="max-w-2xl mx-auto text-center space-y-6">
				<div class="flex flex-col items-center space-y-2">
					<img src="/logo.svg" alt={`${SITE_NAME} Logo`} class="h-16 w-16 object-contain" />
					<div class="relative inline-block text-left">
						<h2 class="text-2xl md:text-3xl font-bold">
							<span class="messie">Messie-</span><span class="hilfe">Hilfe</span>
						</h2>
						<span class="deutschland">Deutschland</span>
					</div>
				</div>
				<p class="text-sm md:text-base leading-relaxed opacity-90">
					Wir unterst√ºtzen Betroffene, Angeh√∂rige und Institutionen dabei, belastende Situationen diskret, respektvoll und verl√§sslich zu l√∂sen.
				</p>
			</div>
		</div>
	</div>

	<div class="py-8 md:py-16" style="background-color: var(--color-brand-dark);">
		<div class="container mx-auto px-4">
			<div class="hidden md:grid md:grid-cols-3 gap-8 lg:gap-12">
				<div>
					<h3 class="text-white font-semibold text-lg mb-4">Leistungen</h3>
					<ul class="space-y-2.5">
						<li>
							<a href="/messie-reinigung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Messie-Reinigung
							</a>
						</li>
						<li>
							<a href="/entsorgung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Entsorgung
							</a>
						</li>
						<li>
							<a href="/entruempelung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Entr√ºmpelung
							</a>
						</li>
						<li>
							<a href="/desinfektion/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Desinfektion
							</a>
						</li>
						<li>
							<a href="/malerarbeiten/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Malerarbeiten
							</a>
						</li>
						<li>
							<a href="/renovierung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Renovierung
							</a>
						</li>
						<li>
							<a href="/geruchsneutralisation/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Geruchsneutralisation
							</a>
						</li>
					</ul>
				</div>

				<div>
					<h3 class="text-white font-semibold text-lg mb-4">Wichtiges</h3>
					<ul class="space-y-2.5">
						<li>
							<a href="/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Startseite
							</a>
						</li>
						<li>
							<a href="/ueber-uns/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> √úber uns
							</a>
						</li>
						<li>
							<a href="/kontakt/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Kontakt
							</a>
						</li>
						<li>
							<a href="/standorte/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
								<span class="opacity-70">‚Ä∫</span> Standorte
							</a>
						</li>
					</ul>
				</div>

				<div>
					<h3 class="text-white font-semibold text-lg mb-4">Kontakt</h3>
					<div class="space-y-2.5">
						<EmailLink email={CONTACT_EMAIL} class="block text-white hover:opacity-80 transition-colors text-sm" />
						<a href={`tel:${CONTACT_PHONE}`} class="flex items-center gap-2 text-white hover:opacity-80 transition-colors text-sm" data-gtm-event="contact_call">
							<Phone size="xs" aria-hidden={true} />
							{CONTACT_PHONE_DISPLAY}
						</a>
						<a href={`https://wa.me/${CONTACT_WHATSAPP}`} target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-10 h-10 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors mt-2" aria-label="WhatsApp Nachricht senden" data-gtm-event="contact_whatsapp">
							<WhatsApp size="md" aria-hidden={true} />
						</a>
					</div>
				</div>
			</div>

			<div class="md:hidden space-y-3">
				<div class="border-b border-white/20">
					<button
						id="footer-services-toggle"
						class="w-full flex items-center justify-between py-3 text-white"
						aria-expanded="false"
						aria-controls="footer-services-menu"
					>
						<span class="font-semibold text-lg">Leistungen</span>
						<Chevron direction="right" size="sm" class="transform transition-transform duration-300" aria-hidden={true} />
					</button>
					<div
						id="footer-services-menu"
						class="overflow-hidden transition-all duration-300 ease-in-out"
						style="max-height: 0;"
						aria-hidden="true"
					>
						<ul class="pb-4 space-y-2.5">
							<li>
								<a href="/messie-reinigung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Messie-Reinigung
								</a>
							</li>
							<li>
								<a href="/entsorgung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Entsorgung
								</a>
							</li>
							<li>
								<a href="/entruempelung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Entr√ºmpelung
								</a>
							</li>
							<li>
								<a href="/desinfektion/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Desinfektion
								</a>
							</li>
							<li>
								<a href="/malerarbeiten/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Malerarbeiten
								</a>
							</li>
							<li>
								<a href="/renovierung/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Renovierung
								</a>
							</li>
							<li>
								<a href="/geruchsneutralisation/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Geruchsneutralisation
								</a>
							</li>
						</ul>
					</div>
				</div>

				<div class="border-b border-white/20">
					<button
						id="footer-important-toggle"
						class="w-full flex items-center justify-between py-3 text-white"
						aria-expanded="false"
						aria-controls="footer-important-menu"
					>
						<span class="font-semibold text-lg">Wichtiges</span>
						<Chevron direction="right" size="sm" class="transform transition-transform duration-300" aria-hidden={true} />
					</button>
					<div
						id="footer-important-menu"
						class="overflow-hidden transition-all duration-300 ease-in-out"
						style="max-height: 0;"
						aria-hidden="true"
					>
						<ul class="pb-4 space-y-2.5">
							<li>
								<a href="/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Startseite
								</a>
							</li>
							<li>
								<a href="/ueber-uns/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> √úber uns
								</a>
							</li>
							<li>
								<a href="/kontakt/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Kontakt
								</a>
							</li>
							<li>
								<a href="/standorte/" class="text-white hover:opacity-80 transition-colors text-sm flex items-center gap-2">
									<span class="opacity-70">‚Ä∫</span> Standorte
								</a>
							</li>
						</ul>
					</div>
				</div>

				<div class="pt-2">
					<h3 class="text-white font-semibold text-lg mb-4">Kontakt</h3>
					<div class="space-y-2.5">
						<EmailLink email={CONTACT_EMAIL} class="block text-white hover:opacity-80 transition-colors text-sm" />
						<a href={`tel:${CONTACT_PHONE}`} class="flex items-center gap-2 text-white hover:opacity-80 transition-colors text-sm" data-gtm-event="contact_call">
							<Phone size="xs" aria-hidden={true} />
							{CONTACT_PHONE_DISPLAY}
						</a>
						<a href={`https://wa.me/${CONTACT_WHATSAPP}`} target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-10 h-10 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors mt-2" aria-label="WhatsApp Nachricht senden" data-gtm-event="contact_whatsapp">
							<WhatsApp size="md" aria-hidden={true} />
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="py-4" style="background-color: var(--color-footer-bottom);">
		<div class="container mx-auto px-4">
			<div class="flex flex-wrap items-center justify-center gap-2 md:gap-3 text-xs md:text-sm">
				<a href="/kein-datenhandel/" class="hover:opacity-80 transition-colors">Kein Datenhandel</a>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<a href="/impressum/" class="hover:opacity-80 transition-colors">Impressum</a>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<a href="/agb/" class="hover:opacity-80 transition-colors">AGB</a>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<a href="/datenschutz/" class="hover:opacity-80 transition-colors">Datenschutz</a>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<a href="/widerruf/" class="hover:opacity-80 transition-colors">Widerruf</a>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<button type="button" class="cky-banner-element hover:opacity-80 transition-colors cursor-pointer">Cookies</button>
				<span class="hidden md:inline opacity-50">¬∑</span>
				<span class="flex items-center gap-1">
					Webdesign: ChatGPT ü§ç
				</span>
			</div>
		</div>
	</div>
</footer>

<style>
	.messie {
		font-weight: 600;
		color: var(--color-brand-dark);
	}

	.hilfe {
		font-weight: 400;
		color: var(--color-foreground-medium);
	}

	.deutschland {
		font-weight: 300;
		font-size: 1rem;
		color: var(--color-foreground-gray);
		opacity: 0.7;
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const servicesToggle = document.getElementById('footer-services-toggle');
		const servicesMenu = document.getElementById('footer-services-menu');
		const importantToggle = document.getElementById('footer-important-toggle');
		const importantMenu = document.getElementById('footer-important-menu');

		function toggleAccordion(button: HTMLElement | null, menu: HTMLElement | null) {
			if (!button || !menu) return;

			const isExpanded = button.getAttribute('aria-expanded') === 'true';
			const chevron = button.querySelector('svg');

			if (isExpanded) {
				button.setAttribute('aria-expanded', 'false');
				menu.setAttribute('aria-hidden', 'true');
				menu.style.maxHeight = '0px';
				chevron?.classList.remove('rotate-0');
			} else {
				button.setAttribute('aria-expanded', 'true');
				menu.setAttribute('aria-hidden', 'false');
				menu.style.maxHeight = menu.scrollHeight + 'px';
				chevron?.classList.add('rotate-0');
			}
		}

		servicesToggle?.addEventListener('click', () => {
			toggleAccordion(servicesToggle, servicesMenu);
		});

		importantToggle?.addEventListener('click', () => {
			toggleAccordion(importantToggle, importantMenu);
		});
	});
</script>
